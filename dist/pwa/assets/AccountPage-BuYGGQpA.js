import{u as De,k as Ne,r as h,d as Oe,G as $e,a as re,a7 as de,K as H,a6 as ue,a8 as me,a9 as ce,y as f,o as n,w as t,p as l,n as e,a3 as x,a4 as _,v as i,A as m,t as r,x as S,B as ve,m as v,z as y,Q as b,ap as Me,a2 as K,s as P,R as I,a5 as Le,F as B,q as T,C as fe,ad as V,aq as pe,J as ge}from"./index-BNMNkKPK.js";import{Q as k,a as d}from"./QItem-DbSoALj4.js";import{Q as c}from"./QItemLabel-C7tu81OD.js";import{Q as U}from"./QList-CPQTSOas.js";import{Q as ye}from"./QBadge-DWsGDw5C.js";import{Q as _e,a as be}from"./QBar-CSPPjw1C.js";import{Q as Be,a as X,b as Te,c as Z}from"./QTabPanels-DejP8mD5.js";import{Q as ee}from"./QSpinnerHourglass-BIecivnK.js";import{Q as D}from"./QTooltip-HxQ9Wq6G.js";import{Q as xe}from"./QChip-DdJtPbRF.js";import{Q as ke}from"./QScrollArea-DfPnG9nG.js";import{Q as Ee}from"./QPage-DjjICR0a.js";import{C as we}from"./ClosePopup-DDK61RyB.js";import{u as Fe}from"./use-quasar-C3LJSxmj.js";import"./QResizeObserver-BGTwnNlz.js";import"./rtl-DFPa-2ov.js";import"./use-panel-BZBftDLR.js";import"./touch-BjYP5sR0.js";import"./selection-61_R8QJt.js";import"./position-engine-DFO69afB.js";import"./QScrollObserver-DMg3C4Au.js";import"./format-CJebrXOQ.js";const Je={class:"row justify-center"},We={class:"col-12 col-md-8 col-lg-6"},He={class:"text-h5"},je={class:"text-caption"},Ge={class:"row items-center q-gutter-sm"},Ye={class:"text-subtitle1 text-weight-medium"},Ke={key:0,class:"text-caption text-grey-7"},Xe={class:"text-h6 q-mb-sm"},Ze={key:0,class:"text-center q-pa-xl"},et={key:1,class:"text-center q-pa-xl"},tt={key:2},at={key:0,class:"q-mb-lg"},lt={class:"text-h6 q-mb-md"},st=["src"],ot={key:1},nt={class:"text-h6 q-mb-md"},it={key:0,class:"text-center q-pa-xl"},rt={key:1,class:"text-center q-pa-xl"},dt=["src"],ut={class:"row q-gutter-xs"},mt={key:0,class:"text-center q-pa-xl"},ct={key:1,class:"text-center q-pa-xl"},vt={class:"row q-gutter-xs"},ft={class:"text-weight-bold q-ml-sm"},pt={style:{height:"250px",overflow:"hidden"}},gt=["src"],yt={key:1,style:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center",background:"#f5f5f5"}},_t={class:"q-pa-lg"},bt={class:"text-h5 text-weight-bold q-mt-none q-mb-md"},xt={class:"text-body1 q-mb-lg"},kt={class:"row items-center q-mb-sm"},wt={class:"text-body2"},qt={class:"row items-center q-mb-sm"},ht={class:"text-body2"},Ct={key:0,class:"text-caption text-grey-7 q-mt-xs"},At={class:"row items-center q-mb-sm"},St={class:"text-body2"},Pt={class:"row items-center q-mb-sm"},Qt={key:0,class:"text-body2 q-mb-xs"},It={key:1,class:"text-body2"},Ut=["href"],zt={key:3,class:"q-mb-lg"},Rt={class:"text-caption text-grey-7 q-mb-md"},Vt={class:"text-h5 q-mb-md"},Dt={class:"text-subtitle1 text-grey-7 q-mb-lg"},Nt={class:"row items-center q-mb-sm"},Ot={class:"text-body1"},$t={key:0,class:"text-caption text-grey-7"},Mt={class:"row items-center q-mb-sm"},Lt={class:"text-body1"},Bt={key:0,class:"text-caption text-grey-7"},Tt={class:"row items-center q-mb-sm"},Et={class:"text-body1"},Ft={class:"row items-center q-mb-sm"},Jt={key:0,class:"text-body2"},Wt={key:1,class:"text-body2"},Ht={class:"text-caption text-grey-7 q-mb-md"},ya={__name:"AccountPage",setup(jt){const N=De(),p=Ne(),C=Fe(),E=h(!1),Q=h(!1),F=h("all"),te=h(!1),J=h(navigator.onLine),ae=h("0 MB"),j=h(!1),O=h(!1);let $=null;const w=h([]),q=h([]),z=h(!1),o=h(null),R=h(null),G=Oe(()=>w.value.length+q.value.length);$e(()=>{window.addEventListener("online",le),window.addEventListener("offline",le),window.matchMedia("(display-mode: standalone)").matches&&(j.value=!0),window.addEventListener("beforeinstallprompt",u=>{u.preventDefault(),$=u}),ie(),se()});const le=()=>{J.value=navigator.onLine},M=u=>new Date(u).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),se=async()=>{const u=re.currentUser,a=u?.uid||p.userId||p.user?.uid||p.id;if(console.log("[Account] Debug:",{authCurrentUser:u?.uid,storeUserId:p.userId,storeUserUid:p.user?.uid,storeId:p.id,finalUserId:a}),!a){console.log("[Account] No user logged in");return}O.value=!0;try{console.log("[Account] Loading saved items for user:",a);const s=de(H,"users",a,"savedPlaces"),g=ue(s,me("savedAt","desc")),A=await ce(g);w.value=A.docs.map(L=>({id:L.id,...L.data()}));const ze=de(H,"users",a,"savedRoutes"),Re=ue(ze,me("savedAt","desc")),Ve=await ce(Re);q.value=Ve.docs.map(L=>({id:L.id,...L.data()})),localStorage.setItem("savedPlaces",JSON.stringify(w.value)),localStorage.setItem("savedRoutes",JSON.stringify(q.value)),console.log("[Account] ✅ Loaded saved items:",{places:w.value.length,routes:q.value.length})}catch(s){console.error("[Account] Error loading saved items:",s),console.error("[Account] Error details:",{code:s.code,message:s.message});const g=localStorage.getItem("savedPlaces"),A=localStorage.getItem("savedRoutes");g&&(w.value=JSON.parse(g)),A&&(q.value=JSON.parse(A)),C.notify({type:"warning",message:"Loading from offline storage",position:"top"})}finally{O.value=!1}},qe=()=>{Q.value=!0,se()},oe=u=>{console.log("[Account] Opening place details:",u.name),o.value=u,R.value="place",z.value=!0},ne=u=>{console.log("[Account] Opening route details:",u.from,"→",u.to),o.value=u,R.value="route",z.value=!0},he=u=>{Q.value=!1,N.push({path:"/apanam",query:{to:u.name,toAddress:u.address}})},Ce=u=>{Q.value=!1,N.push({path:"/apanam",query:{from:u.from,to:u.to}})},Ae=()=>{o.value&&(z.value=!1,Q.value=!1,N.push({path:"/apanam",query:{to:o.value.name,toAddress:o.value.address}}))},Se=()=>{o.value&&(z.value=!1,Q.value=!1,N.push({path:"/apanam",query:{from:o.value.from,to:o.value.to}}))},W=async(u,a)=>{const g=re.currentUser?.uid||p.userId||p.user?.uid||p.id;if(!g){C.notify({type:"negative",message:"User not authenticated",position:"top"});return}C.dialog({title:"Remove Item",message:`Are you sure you want to remove this ${u}?`,cancel:!0,persistent:!0}).onOk(async()=>{try{u==="place"?(await pe(ge(H,"users",g,"savedPlaces",a)),w.value=w.value.filter(A=>A.id!==a),localStorage.setItem("savedPlaces",JSON.stringify(w.value))):u==="route"&&(await pe(ge(H,"users",g,"savedRoutes",a)),q.value=q.value.filter(A=>A.id!==a),localStorage.setItem("savedRoutes",JSON.stringify(q.value))),C.notify({type:"positive",message:`${u.charAt(0).toUpperCase()+u.slice(1)} removed successfully`,icon:"delete",position:"top"})}catch(A){console.error("[Account] Error removing item:",A),C.notify({type:"negative",message:"Failed to remove item",position:"top"})}})},Pe=async()=>{C.dialog({title:"Confirm Logout",message:"Are you sure you want to logout?",cancel:!0,persistent:!0}).onOk(async()=>{await p.logout(),N.push("/auth")})},Y=async u=>{await p.activatePremium(u),E.value=!1},Qe=async u=>{u?C.notify({type:"positive",message:"Offline mode enabled",caption:"Routes and data will be cached"}):C.notify({type:"info",message:"Offline mode disabled"})},Ie=async()=>{if(!$){C.notify({type:"warning",message:"PWA installation not available",caption:"Try accessing from a mobile browser"});return}$.prompt();const{outcome:u}=await $.userChoice;u==="accepted"&&(C.notify({type:"positive",message:"App installed successfully!"}),j.value=!0),$=null},ie=async()=>{if("storage"in navigator&&"estimate"in navigator.storage){const a=((await navigator.storage.estimate()).usage/(1024*1024)).toFixed(2);ae.value=`${a} MB`}},Ue=async()=>{C.dialog({title:"Clear Offline Data",message:"This will remove all cached routes and data. Continue?",cancel:!0,persistent:!0}).onOk(async()=>{if("caches"in window){const u=await caches.keys();await Promise.all(u.map(a=>caches.delete(a))),C.notify({type:"positive",message:"Cache cleared successfully"}),ie()}})};return(u,a)=>(n(),f(Ee,{class:"q-pa-md"},{default:t(()=>[l("div",Je,[l("div",We,[e(x,{class:"q-mb-md"},{default:t(()=>[e(_,{class:"bg-primary text-white"},{default:t(()=>[l("div",He,[e(m,{name:"person",size:"28px",class:"q-mr-sm"}),i(" "+r(S(p).userName),1)]),l("div",je,r(S(p).userEmail),1)]),_:1}),e(ve),e(_,null,{default:t(()=>[l("div",Ge,[e(m,{name:S(p).isPremium?"workspace_premium":"lock",color:S(p).isPremium?"amber":"grey",size:"24px"},null,8,["name","color"]),l("div",null,[l("div",Ye,r(S(p).isPremium?"Premium Account":"Free Account"),1),S(p).isPremium&&S(p).premiumExpiry?(n(),v("div",Ke," Valid until "+r(M(S(p).premiumExpiry)),1)):y("",!0)])])]),_:1})]),_:1}),S(p).isPremium?(n(),f(x,{key:0,class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[a[16]||(a[16]=l("div",{class:"text-h6 q-mb-md"},"Premium Features",-1)),e(U,null,{default:t(()=>[e(k,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"bookmark",color:"primary"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[11]||(a[11]=[i("My Saves",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[i(r(G.value)+" saved item(s) ",1)]),_:1})]),_:1}),e(d,{side:""},{default:t(()=>[e(b,{flat:"",dense:"",color:"primary",label:"View",onClick:qe})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:J.value?"cloud_done":"cloud_off",color:J.value?"positive":"warning"},null,8,["name","color"])]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[12]||(a[12]=[i("Offline Mode",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[i(r(J.value?"Online - Data synced":"Offline - Using cached data"),1)]),_:1})]),_:1}),e(d,{side:""},{default:t(()=>[e(Me,{modelValue:te.value,"onUpdate:modelValue":[a[0]||(a[0]=s=>te.value=s),Qe],color:"primary"},null,8,["modelValue"])]),_:1})]),_:1}),j.value?y("",!0):(n(),f(k,{key:0},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"get_app",color:"primary"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[13]||(a[13]=[i("Install PWA",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[14]||(a[14]=[i(" Install Baguio Boost on your device ",-1)])]),_:1})]),_:1}),e(d,{side:""},{default:t(()=>[e(b,{flat:"",dense:"",color:"primary",label:"Install",onClick:Ie})]),_:1})]),_:1})),e(k,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"storage",color:"primary"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[15]||(a[15]=[i("Offline Data",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[i(r(ae.value)+" cached ",1)]),_:1})]),_:1}),e(d,{side:""},{default:t(()=>[e(b,{flat:"",dense:"",color:"negative",label:"Clear",onClick:Ue})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(n(),f(x,{key:1,class:"q-mb-md"},{default:t(()=>[e(_,{class:"bg-amber-1"},{default:t(()=>[l("div",Xe,[e(m,{name:"star",color:"amber",size:"24px"}),a[17]||(a[17]=i(" Upgrade to Premium ",-1))]),a[26]||(a[26]=l("div",{class:"text-body2 q-mb-md"}," Unlock offline mode, PWA support, saved places & routes, and more! ",-1)),e(U,null,{default:t(()=>[e(k,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"check_circle",color:"positive"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"text-weight-medium"},{default:t(()=>[...a[18]||(a[18]=[i("Save unlimited places & routes",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[19]||(a[19]=[i("Bookmark your favorite spots and routes for quick access",-1)])]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"check_circle",color:"positive"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[20]||(a[20]=[i("Full offline navigation",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[21]||(a[21]=[i("Access routes and places without internet",-1)])]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"check_circle",color:"positive"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[22]||(a[22]=[i("PWA installation",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[23]||(a[23]=[i("Install as a native app on your device",-1)])]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"check_circle",color:"positive"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[24]||(a[24]=[i("Priority support",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[25]||(a[25]=[i("Get help faster when you need it",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{color:"primary",label:"Upgrade Now",icon:"workspace_premium",class:"full-width q-mt-md",size:"lg",unelevated:"",onClick:a[1]||(a[1]=s=>E.value=!0)})]),_:1})]),_:1})),e(x,null,{default:t(()=>[e(_,null,{default:t(()=>[e(b,{color:"negative",label:"Logout",icon:"logout",class:"full-width",onClick:Pe})]),_:1})]),_:1})])]),e(K,{modelValue:E.value,"onUpdate:modelValue":a[5]||(a[5]=s=>E.value=s)},{default:t(()=>[e(x,{style:{"min-width":"350px"}},{default:t(()=>[e(_,null,{default:t(()=>[...a[27]||(a[27]=[l("div",{class:"text-h6"},"Choose Your Plan",-1)])]),_:1}),e(_,{class:"q-pt-none"},{default:t(()=>[e(U,null,{default:t(()=>[P((n(),f(k,{clickable:"",onClick:a[2]||(a[2]=s=>Y(1))},{default:t(()=>[e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[28]||(a[28]=[i("1 Month - ₱99",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[29]||(a[29]=[i("Billed monthly",-1)])]),_:1})]),_:1})]),_:1})),[[I]]),P((n(),f(k,{clickable:"",onClick:a[3]||(a[3]=s=>Y(6))},{default:t(()=>[e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[30]||(a[30]=[i("6 Months - ₱499",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[31]||(a[31]=[i("Save 15%",-1)])]),_:1})]),_:1}),e(d,{side:""},{default:t(()=>[e(ye,{color:"positive",label:"Popular"})]),_:1})]),_:1})),[[I]]),P((n(),f(k,{clickable:"",onClick:a[4]||(a[4]=s=>Y(12))},{default:t(()=>[e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[...a[32]||(a[32]=[i("1 Year - ₱899",-1)])]),_:1}),e(c,{caption:""},{default:t(()=>[...a[33]||(a[33]=[i("Save 25%",-1)])]),_:1})]),_:1}),e(d,{side:""},{default:t(()=>[e(ye,{color:"amber",label:"Best Value"})]),_:1})]),_:1})),[[I]])]),_:1})]),_:1}),e(Le,{align:"right"},{default:t(()=>[P(e(b,{flat:"",label:"Cancel",color:"primary"},null,512),[[we]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:Q.value,"onUpdate:modelValue":a[9]||(a[9]=s=>Q.value=s),maximized:""},{default:t(()=>[e(x,null,{default:t(()=>[e(_e,{class:"bg-primary text-white"},{default:t(()=>[e(m,{name:"bookmark"}),a[34]||(a[34]=l("div",{class:"text-weight-bold q-ml-sm"},"My Saved Items",-1)),e(be),e(b,{dense:"",flat:"",icon:"close",onClick:a[6]||(a[6]=s=>Q.value=!1)})]),_:1}),e(_,null,{default:t(()=>[e(Be,{modelValue:F.value,"onUpdate:modelValue":a[7]||(a[7]=s=>F.value=s),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify"},{default:t(()=>[e(X,{name:"all",label:"All",badge:G.value},null,8,["badge"]),e(X,{name:"places",label:"Places",badge:w.value.length},null,8,["badge"]),e(X,{name:"routes",label:"Routes",badge:q.value.length},null,8,["badge"])]),_:1},8,["modelValue"]),e(ve),e(Te,{modelValue:F.value,"onUpdate:modelValue":a[8]||(a[8]=s=>F.value=s),animated:""},{default:t(()=>[e(Z,{name:"all"},{default:t(()=>[O.value?(n(),v("div",Ze,[e(ee,{color:"primary",size:"60px"}),a[35]||(a[35]=l("p",{class:"q-mt-md text-grey-7"},"Loading your saved items...",-1))])):G.value===0?(n(),v("div",et,[e(m,{name:"bookmark_border",size:"80px",color:"grey-5"}),a[36]||(a[36]=l("div",{class:"text-h6 text-grey-7 q-mt-md"},"No Saved Items",-1)),a[37]||(a[37]=l("p",{class:"text-grey-6"},"Start exploring and save your favorite places and routes!",-1))])):(n(),v("div",tt,[w.value.length>0?(n(),v("div",at,[l("div",lt,[e(m,{name:"place",color:"primary",class:"q-mr-sm"}),i(" Places ("+r(w.value.length)+") ",1)]),e(U,{bordered:"",separator:""},{default:t(()=>[(n(!0),v(B,null,T(w.value,s=>P((n(),f(k,{key:s.id,clickable:"",onClick:g=>oe(s)},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(fe,{square:""},{default:t(()=>[s.imageUrl?(n(),v("img",{key:0,src:s.imageUrl},null,8,st)):(n(),f(m,{key:1,name:"place",size:"32px",color:"grey-5"}))]),_:2},1024)]),_:2},1024),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[i(r(s.name),1)]),_:2},1024),e(c,{caption:""},{default:t(()=>[i(r(s.category),1)]),_:2},1024)]),_:2},1024),e(d,{side:""},{default:t(()=>[e(b,{flat:"",dense:"",round:"",icon:"delete",color:"negative",onClick:V(g=>W("place",s.id),["stop"])},{default:t(()=>[e(D,null,{default:t(()=>[...a[38]||(a[38]=[i("Remove",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])),[[I]])),128))]),_:1})])):y("",!0),q.value.length>0?(n(),v("div",ot,[l("div",nt,[e(m,{name:"route",color:"primary",class:"q-mr-sm"}),i(" Routes ("+r(q.value.length)+") ",1)]),e(U,{bordered:"",separator:""},{default:t(()=>[(n(!0),v(B,null,T(q.value,s=>P((n(),f(k,{key:s.id,clickable:"",onClick:g=>ne(s)},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"directions",size:"32px",color:"primary"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[i(r(s.from)+" → "+r(s.to),1)]),_:2},1024),e(c,{caption:""},{default:t(()=>[i("Saved on "+r(M(s.savedAt)),1)]),_:2},1024)]),_:2},1024),e(d,{side:""},{default:t(()=>[e(b,{flat:"",dense:"",round:"",icon:"delete",color:"negative",onClick:V(g=>W("route",s.id),["stop"])},{default:t(()=>[e(D,null,{default:t(()=>[...a[39]||(a[39]=[i("Remove",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])),[[I]])),128))]),_:1})])):y("",!0)]))]),_:1}),e(Z,{name:"places"},{default:t(()=>[O.value?(n(),v("div",it,[e(ee,{color:"primary",size:"60px"}),a[40]||(a[40]=l("p",{class:"q-mt-md text-grey-7"},"Loading places...",-1))])):w.value.length===0?(n(),v("div",rt,[e(m,{name:"place",size:"80px",color:"grey-5"}),a[41]||(a[41]=l("div",{class:"text-h6 text-grey-7 q-mt-md"},"No Saved Places",-1)),a[42]||(a[42]=l("p",{class:"text-grey-6"},"Explore MAYKAN to discover and save places!",-1))])):(n(),f(U,{key:2,bordered:"",separator:""},{default:t(()=>[(n(!0),v(B,null,T(w.value,s=>P((n(),f(k,{key:s.id,clickable:"",onClick:g=>oe(s)},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(fe,{square:""},{default:t(()=>[s.imageUrl?(n(),v("img",{key:0,src:s.imageUrl},null,8,dt)):(n(),f(m,{key:1,name:"place",size:"32px",color:"grey-5"}))]),_:2},1024)]),_:2},1024),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[i(r(s.name),1)]),_:2},1024),e(c,{caption:""},{default:t(()=>[i(r(s.category)+" • "+r(s.area),1)]),_:2},1024)]),_:2},1024),e(d,{side:""},{default:t(()=>[l("div",ut,[e(b,{flat:"",dense:"",round:"",icon:"navigation",color:"primary",onClick:V(g=>he(s),["stop"])},{default:t(()=>[e(D,null,{default:t(()=>[...a[43]||(a[43]=[i("Get Directions",-1)])]),_:1})]),_:1},8,["onClick"]),e(b,{flat:"",dense:"",round:"",icon:"delete",color:"negative",onClick:V(g=>W("place",s.id),["stop"])},{default:t(()=>[e(D,null,{default:t(()=>[...a[44]||(a[44]=[i("Remove",-1)])]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"])),[[I]])),128))]),_:1}))]),_:1}),e(Z,{name:"routes"},{default:t(()=>[O.value?(n(),v("div",mt,[e(ee,{color:"primary",size:"60px"}),a[45]||(a[45]=l("p",{class:"q-mt-md text-grey-7"},"Loading routes...",-1))])):q.value.length===0?(n(),v("div",ct,[e(m,{name:"route",size:"80px",color:"grey-5"}),a[46]||(a[46]=l("div",{class:"text-h6 text-grey-7 q-mt-md"},"No Saved Routes",-1)),a[47]||(a[47]=l("p",{class:"text-grey-6"},"Use APANAM to find routes and save them for quick access!",-1))])):(n(),f(U,{key:2,bordered:"",separator:""},{default:t(()=>[(n(!0),v(B,null,T(q.value,s=>P((n(),f(k,{key:s.id,clickable:"",onClick:g=>ne(s)},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(m,{name:"directions",size:"32px",color:"primary"})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[i(r(s.from)+" → "+r(s.to),1)]),_:2},1024),e(c,{caption:""},{default:t(()=>[i(r(s.routeName||"Direct Route")+" • Saved on "+r(M(s.savedAt)),1)]),_:2},1024)]),_:2},1024),e(d,{side:""},{default:t(()=>[l("div",vt,[e(b,{flat:"",dense:"",round:"",icon:"navigation",color:"primary",onClick:V(g=>Ce(s),["stop"])},{default:t(()=>[e(D,null,{default:t(()=>[...a[48]||(a[48]=[i("Use Route",-1)])]),_:1})]),_:1},8,["onClick"]),e(b,{flat:"",dense:"",round:"",icon:"delete",color:"negative",onClick:V(g=>W("route",s.id),["stop"])},{default:t(()=>[e(D,null,{default:t(()=>[...a[49]||(a[49]=[i("Remove",-1)])]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"])),[[I]])),128))]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:z.value,"onUpdate:modelValue":a[10]||(a[10]=s=>z.value=s)},{default:t(()=>[e(x,{style:{width:"100%","max-width":"800px","max-height":"90vh"}},{default:t(()=>[e(_e,{class:"bg-primary text-white"},{default:t(()=>[e(m,{name:R.value==="place"?"place":"directions"},null,8,["name"]),l("div",ft,r(R.value==="place"?o.value?.name:`${o.value?.from} → ${o.value?.to}`),1),e(be),P(e(b,{dense:"",flat:"",icon:"close"},null,512),[[we]])]),_:1}),R.value==="place"&&o.value?(n(),f(_,{key:0,class:"q-pa-none"},{default:t(()=>[e(ke,{style:{height:"calc(90vh - 50px)"}},{default:t(()=>[l("div",pt,[o.value.imageUrl?(n(),v("img",{key:0,src:o.value.imageUrl,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,gt)):(n(),v("div",yt,[e(m,{name:"place",size:"80px",color:"grey-5"})]))]),l("div",_t,[e(xe,{label:o.value.category,color:"primary","text-color":"white",class:"q-mb-md"},null,8,["label"]),l("h4",bt,r(o.value.name),1),l("p",xt,r(o.value.description),1),o.value.operatingHours?(n(),f(x,{key:0,flat:"",bordered:"",class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",kt,[e(m,{name:"schedule",size:"24px",color:"primary",class:"q-mr-sm"}),a[50]||(a[50]=l("span",{class:"text-weight-bold"},"Operating Hours",-1))]),l("div",wt,r(o.value.operatingHours),1)]),_:1})]),_:1})):y("",!0),e(x,{flat:"",bordered:"",class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",qt,[e(m,{name:"location_on",size:"24px",color:"primary",class:"q-mr-sm"}),a[51]||(a[51]=l("span",{class:"text-weight-bold"},"Location",-1))]),l("div",ht,r(o.value.address),1),o.value.area?(n(),v("div",Ct,"Area: "+r(o.value.area),1)):y("",!0)]),_:1})]),_:1}),o.value.entranceFee?(n(),f(x,{key:1,flat:"",bordered:"",class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",At,[e(m,{name:"payments",size:"24px",color:"primary",class:"q-mr-sm"}),a[52]||(a[52]=l("span",{class:"text-weight-bold"},"Entrance Fee",-1))]),l("div",St,r(o.value.entranceFee),1)]),_:1})]),_:1})):y("",!0),o.value.phone||o.value.website?(n(),f(x,{key:2,flat:"",bordered:"",class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",Pt,[e(m,{name:"phone",size:"24px",color:"primary",class:"q-mr-sm"}),a[53]||(a[53]=l("span",{class:"text-weight-bold"},"Contact",-1))]),o.value.phone?(n(),v("div",Qt,[e(m,{name:"phone",size:"16px"}),i(" "+r(o.value.phone),1)])):y("",!0),o.value.website?(n(),v("div",It,[e(m,{name:"language",size:"16px"}),l("a",{href:o.value.website,target:"_blank",class:"text-primary"},"Visit Website",8,Ut)])):y("",!0)]),_:1})]),_:1})):y("",!0),o.value.tags&&o.value.tags.length>0?(n(),v("div",zt,[a[54]||(a[54]=l("div",{class:"text-weight-bold q-mb-sm"},"Tags",-1)),(n(!0),v(B,null,T(o.value.tags,(s,g)=>(n(),f(xe,{key:g,label:s,color:"primary",outline:"",size:"sm",class:"q-mr-sm q-mb-sm"},null,8,["label"]))),128))])):y("",!0),l("div",Rt,[e(m,{name:"bookmark",size:"16px"}),i(" Saved on "+r(M(o.value.savedAt)),1)]),e(b,{label:"Get Directions via APANAM",color:"primary",unelevated:"",icon:"navigation",class:"full-width",onClick:Ae})])]),_:1})]),_:1})):y("",!0),R.value==="route"&&o.value?(n(),f(_,{key:1},{default:t(()=>[e(ke,{style:{height:"calc(90vh - 100px)"}},{default:t(()=>[l("div",Vt,r(o.value.from)+" → "+r(o.value.to),1),l("div",Dt,r(o.value.routeName||"Direct Route"),1),e(x,{flat:"",bordered:"",class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",Nt,[e(m,{name:"place",size:"24px",color:"primary",class:"q-mr-sm"}),a[55]||(a[55]=l("span",{class:"text-weight-bold"},"Starting Point",-1))]),l("div",Ot,r(o.value.from),1),o.value.fromAddress?(n(),v("div",$t,r(o.value.fromAddress),1)):y("",!0)]),_:1})]),_:1}),e(x,{flat:"",bordered:"",class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",Mt,[e(m,{name:"flag",size:"24px",color:"primary",class:"q-mr-sm"}),a[56]||(a[56]=l("span",{class:"text-weight-bold"},"Destination",-1))]),l("div",Lt,r(o.value.to),1),o.value.toAddress?(n(),v("div",Bt,r(o.value.toAddress),1)):y("",!0)]),_:1})]),_:1}),o.value.fare?(n(),f(x,{key:0,flat:"",bordered:"",class:"q-mb-md"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",Tt,[e(m,{name:"payments",size:"24px",color:"primary",class:"q-mr-sm"}),a[57]||(a[57]=l("span",{class:"text-weight-bold"},"Estimated Fare",-1))]),l("div",Et,r(o.value.fare),1)]),_:1})]),_:1})):y("",!0),o.value.distance||o.value.duration?(n(),f(x,{key:1,flat:"",bordered:"",class:"q-mb-lg"},{default:t(()=>[e(_,null,{default:t(()=>[l("div",Ft,[e(m,{name:"info",size:"24px",color:"primary",class:"q-mr-sm"}),a[58]||(a[58]=l("span",{class:"text-weight-bold"},"Route Information",-1))]),o.value.distance?(n(),v("div",Jt,[a[59]||(a[59]=l("strong",null,"Distance:",-1)),i(" "+r(o.value.distance),1)])):y("",!0),o.value.duration?(n(),v("div",Wt,[a[60]||(a[60]=l("strong",null,"Duration:",-1)),i(" "+r(o.value.duration),1)])):y("",!0)]),_:1})]),_:1})):y("",!0),l("div",Ht,[e(m,{name:"bookmark",size:"16px"}),i(" Saved on "+r(M(o.value.savedAt)),1)]),e(b,{label:"Use This Route in APANAM",color:"primary",unelevated:"",icon:"directions",class:"full-width",onClick:Se})]),_:1})]),_:1})):y("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{ya as default};
