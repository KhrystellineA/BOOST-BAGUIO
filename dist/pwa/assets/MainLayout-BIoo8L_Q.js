import{Q as Y,a as G}from"./QLayout-9fijlrMS.js";import{g as j,i as K,e as I,l as X,d as x,h as J,f as B,j as W,_ as H,u as Z,k as ee,r as F,m as b,o as r,n as e,w as t,p as m,F as A,q as N,t as y,s as v,v as n,x as S,Q as E,y as w,z as U,A as Q,B as q,C as D,R as $,D as V,E as te,G as oe,H as ae}from"./index-BNMNkKPK.js";import{Q as le,a as se,b as ne,c as re}from"./QDrawer-CdwjQU8_.js";import{Q as p}from"./QItemLabel-C7tu81OD.js";import{Q as _,a as s}from"./QItem-DbSoALj4.js";import{Q as O}from"./QList-CPQTSOas.js";import{Q as z}from"./QBtnDropdown-OgaoLcvi.js";import{Q as ue}from"./QChip-DdJtPbRF.js";import{Q as ie}from"./QScrollArea-DfPnG9nG.js";import{C as R}from"./ClosePopup-DDK61RyB.js";import{_ as de}from"./logo-B98Z2-Xx.js";import{u as ce}from"./use-quasar-C3LJSxmj.js";import"./QScrollObserver-DMg3C4Au.js";import"./QResizeObserver-BGTwnNlz.js";import"./format-CJebrXOQ.js";import"./QMenu-C81fWRT3.js";import"./position-engine-DFO69afB.js";import"./selection-61_R8QJt.js";import"./touch-BjYP5sR0.js";const pe={position:{type:String,default:"bottom-right",validator:u=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(u)},offset:{type:Array,validator:u=>u.length===2},expand:Boolean};function fe(){const{props:u,proxy:{$q:d}}=j(),l=K(X,I);if(l===I)return console.error("QPageSticky needs to be child of QLayout"),I;const C=x(()=>{const i=u.position;return{top:i.indexOf("top")!==-1,right:i.indexOf("right")!==-1,bottom:i.indexOf("bottom")!==-1,left:i.indexOf("left")!==-1,vertical:i==="top"||i==="bottom",horizontal:i==="left"||i==="right"}}),c=x(()=>l.header.offset),k=x(()=>l.right.offset),g=x(()=>l.footer.offset),h=x(()=>l.left.offset),T=x(()=>{let i=0,f=0;const o=C.value,a=d.lang.rtl===!0?-1:1;o.top===!0&&c.value!==0?f=`${c.value}px`:o.bottom===!0&&g.value!==0&&(f=`${-g.value}px`),o.left===!0&&h.value!==0?i=`${a*h.value}px`:o.right===!0&&k.value!==0&&(i=`${-a*k.value}px`);const P={transform:`translate(${i}, ${f})`};return u.offset&&(P.margin=`${u.offset[1]}px ${u.offset[0]}px`),o.vertical===!0?(h.value!==0&&(P[d.lang.rtl===!0?"right":"left"]=`${h.value}px`),k.value!==0&&(P[d.lang.rtl===!0?"left":"right"]=`${k.value}px`)):o.horizontal===!0&&(c.value!==0&&(P.top=`${c.value}px`),g.value!==0&&(P.bottom=`${g.value}px`)),P}),M=x(()=>`q-page-sticky row flex-center fixed-${u.position} q-page-sticky--${u.expand===!0?"expand":"shrink"}`);function L(i){const f=J(i.default);return B("div",{class:M.value,style:T.value},u.expand===!0?f:[B("div",f)])}return{$layout:l,getStickyContent:L}}const me=W({name:"QPageSticky",props:pe,setup(u,{slots:d}){const{getStickyContent:l}=fe();return()=>l(d)}}),_e={class:"container-header"},ve={class:"row items-center full-width no-wrap"},ge={class:"col-auto"},he={class:"col-auto gt-md"},be={class:"row items-center q-gutter-md nav-menu"},ye=["href"],we={class:"col-auto gt-md"},ke={key:0,class:"row items-center q-gutter-sm"},xe={key:1,class:"row items-center q-gutter-sm"},Ae={class:"row items-center no-wrap"},Se={class:"q-ml-sm text-left"},Qe={class:"text-caption text-weight-medium"},Ce={class:"col-auto lt-lg"},Pe={__name:"AppHeader",setup(u){const d=Z(),l=ee(),C=ce(),c=F(!1),k=[{label:"APANAM",path:"apanam"},{label:"PAGNAAM",path:"pagnaam"}],g=[{label:"APANAM",path:"apanam"},{label:"PAGNAAM",path:"pagnaam"},{label:"ARAMIDEM",path:"aramidem"},{label:"MAYKAN",path:"maykan"},{label:"AYAN MO",path:"ayanmo"}],h=x(()=>{const f=l.userName||"User",o=f.split(" ");return o.length>=2?(o[0][0]+o[1][0]).toUpperCase():f.substring(0,2).toUpperCase()}),T=()=>{c.value=!1,d.push("/login")},M=()=>{c.value=!1,d.push("/login")},L=()=>{console.log("ðŸ”µ STEP 1: handleMyAccount called"),console.log("ðŸ”µ STEP 2: Current route:",d.currentRoute.value.path),console.log("ðŸ”µ STEP 3: Drawer value:",c.value),c.value=!1,console.log("ðŸ”µ STEP 4: About to push /account");const f=d.push("/account");console.log("ðŸ”µ STEP 5: Push returned:",f),f.then(()=>{console.log("ðŸ”µ STEP 6: Push completed"),console.log("ðŸ”µ STEP 7: New route:",d.currentRoute.value.path)}).catch(o=>{console.error("ðŸ”µ STEP 6: Push error:",o)})},i=async()=>{c.value=!1,C.dialog({title:"Confirm Logout",message:"Are you sure you want to sign out?",cancel:!0,persistent:!0}).onOk(async()=>{await l.logout(),d.push("/")})};return(f,o)=>(r(),b(A,null,[e(ne,{elevated:"",class:"app-header bg-white text-dark"},{default:t(()=>[e(le,{class:"toolbar-custom"},{default:t(()=>[m("div",_e,[m("div",ve,[m("div",ge,[e(se,{class:"row items-center cursor-pointer q-pa-none",onClick:o[0]||(o[0]=a=>f.$router.push("/"))},{default:t(()=>[...o[3]||(o[3]=[m("div",{class:"logo-wrapper"},[m("img",{src:de,alt:"Logo",class:"logo-img"})],-1)])]),_:1})]),o[7]||(o[7]=m("div",{class:"col"},null,-1)),m("div",he,[m("div",be,[(r(),b(A,null,N(k,a=>m("a",{key:a.label,href:a.path,class:"nav-link"},y(a.label),9,ye)),64)),e(z,{flat:"",dense:"","no-caps":"",label:"More Options",class:"more-options-btn","dropdown-icon":"expand_more"},{default:t(()=>[e(O,null,{default:t(()=>[(r(),b(A,null,N(g,a=>v(e(_,{clickable:"",href:a.path,key:a.label},{default:t(()=>[e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[n(y(a.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]),[[R]])),64))]),_:1})]),_:1})])]),m("div",we,[S(l).isAuthenticated?(r(),b("div",xe,[S(l).isPremium?(r(),w(ue,{key:0,square:"",dense:"",icon:"workspace_premium",color:"amber-7","text-color":"white",size:"sm"},{default:t(()=>[...o[4]||(o[4]=[n(" Premium ",-1)])]),_:1})):U("",!0),e(z,{flat:"","no-caps":"",class:"user-dropdown-btn","dropdown-icon":"expand_more"},{label:t(()=>[m("div",Ae,[e(D,{size:"32px",color:"primary","text-color":"white"},{default:t(()=>[n(y(h.value),1)]),_:1}),m("div",Se,[m("div",Qe,y(S(l).userName),1)])])]),default:t(()=>[e(O,null,{default:t(()=>[v((r(),w(_,{clickable:"",onClick:L},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(Q,{name:"person_outline"})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[...o[5]||(o[5]=[n("My Account",-1)])]),_:1})]),_:1})]),_:1})),[[R]]),e(q),v((r(),w(_,{clickable:"",onClick:i},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(Q,{name:"logout",color:"negative"})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[...o[6]||(o[6]=[n("Sign Out",-1)])]),_:1})]),_:1})]),_:1})),[[R]])]),_:1})]),_:1})])):(r(),b("div",ke,[e(E,{label:"Log In",flat:"","no-caps":"",class:"auth-btn login-btn",onClick:T}),e(E,{label:"Sign Up",unelevated:"","no-caps":"",class:"auth-btn signup-btn",onClick:M})]))]),m("div",Ce,[e(E,{flat:"",dense:"",round:"",icon:"menu",onClick:o[1]||(o[1]=a=>c.value=!c.value)})])])])]),_:1})]),_:1}),e(re,{modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=a=>c.value=a),overlay:"",behavior:"mobile",side:"right",width:280},{default:t(()=>[e(ie,{class:"fit"},{default:t(()=>[e(O,{padding:""},{default:t(()=>[e(p,{header:"",class:"text-weight-bold"},{default:t(()=>[...o[8]||(o[8]=[n("Navigation",-1)])]),_:1}),(r(),b(A,null,N(k,a=>v(e(_,{key:a.label,clickable:"",href:a.path},{default:t(()=>[e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[n(y(a.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]),[[$]])),64)),e(q,{class:"q-my-md"}),e(p,{header:"",class:"text-weight-bold"},{default:t(()=>[...o[9]||(o[9]=[n("More",-1)])]),_:1}),(r(),b(A,null,N(g,a=>v(e(_,{key:a.label,clickable:"",href:a.path},{default:t(()=>[e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[n(y(a.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]),[[$]])),64)),e(q,{class:"q-my-md"}),e(p,{header:"",class:"text-weight-bold"},{default:t(()=>[...o[10]||(o[10]=[n("Account",-1)])]),_:1}),S(l).isAuthenticated?(r(),b(A,{key:1},[e(_,null,{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(D,{color:"primary","text-color":"white"},{default:t(()=>[n(y(h.value),1)]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[n(y(S(l).userName),1)]),_:1}),e(p,{caption:""},{default:t(()=>[n(y(S(l).userEmail),1)]),_:1})]),_:1})]),_:1}),S(l).isPremium?(r(),w(_,{key:0},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(Q,{name:"workspace_premium",color:"amber-7"})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[...o[13]||(o[13]=[n("Premium Member",-1)])]),_:1})]),_:1})]),_:1})):U("",!0),e(q,{class:"q-my-sm"}),v((r(),w(_,{clickable:"",onClick:L},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(Q,{name:"person_outline"})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[...o[14]||(o[14]=[n("My Account",-1)])]),_:1})]),_:1})]),_:1})),[[$]]),v((r(),w(_,{clickable:"",onClick:i},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(Q,{name:"logout",color:"negative"})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[...o[15]||(o[15]=[n("Sign Out",-1)])]),_:1})]),_:1})]),_:1})),[[$]])],64)):(r(),b(A,{key:0},[v((r(),w(_,{clickable:"",onClick:T},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(Q,{name:"login"})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[...o[11]||(o[11]=[n("Log In",-1)])]),_:1})]),_:1})]),_:1})),[[$]]),v((r(),w(_,{clickable:"",onClick:M},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(Q,{name:"person_add"})]),_:1}),e(s,null,{default:t(()=>[e(p,null,{default:t(()=>[...o[12]||(o[12]=[n("Sign Up",-1)])]),_:1})]),_:1})]),_:1})),[[$]])],64))]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},$e=H(Pe,[["__scopeId","data-v-77bf2f41"]]),Te={name:"MainLayout",components:{AppHeader:$e},setup(){const u=F(!1),d=()=>{u.value=window.scrollY>300},l=()=>{window.scrollTo({top:0,behavior:"smooth"})};return oe(()=>{window.addEventListener("scroll",d)}),ae(()=>{window.removeEventListener("scroll",d)}),{showScrollTop:u,scrollToTop:l}}};function Me(u,d,l,C,c,k){const g=V("app-header"),h=V("router-view");return r(),w(G,{view:"hHh lpR fFf"},{default:t(()=>[e(g),e(Y,null,{default:t(()=>[e(h)]),_:1}),e(me,{position:"bottom-right",offset:[18,18]},{default:t(()=>[v(e(E,{fab:"",icon:"keyboard_arrow_up",color:"primary",onClick:C.scrollToTop},null,8,["onClick"]),[[te,C.showScrollTop]])]),_:1})]),_:1})}const Je=H(Te,[["render",Me]]);export{Je as default};
